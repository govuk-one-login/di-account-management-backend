"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EnvironmentVariablesService = void 0;
const constants_1 = require("../constants");
const commons_1 = require("@aws-lambda-powertools/commons");
class EnvironmentVariablesService extends commons_1.EnvironmentVariablesService {
    constructor() {
        super(...arguments);
        // Environment variables
        this.parametersMaxAgeVariable = 'POWERTOOLS_PARAMETERS_MAX_AGE';
        this.ssmDecryptVariable = 'POWERTOOLS_PARAMETERS_SSM_DECRYPT';
    }
    getParametersMaxAge() {
        const maxAge = this.get(this.parametersMaxAgeVariable);
        if (maxAge.length === 0)
            return undefined;
        const maxAgeAsNumber = parseInt(maxAge, 10);
        if (isNaN(maxAgeAsNumber)) {
            console.warn(`Invalid value for ${this.parametersMaxAgeVariable} environment variable: [${maxAge}], using default value of ${constants_1.DEFAULT_MAX_AGE_SECS} seconds`);
        }
        else {
            return maxAgeAsNumber;
        }
    }
    getSSMDecrypt() {
        return this.get(this.ssmDecryptVariable);
    }
}
exports.EnvironmentVariablesService = EnvironmentVariablesService;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRW52aXJvbm1lbnRWYXJpYWJsZXNTZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbmZpZy9FbnZpcm9ubWVudFZhcmlhYmxlc1NlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsNENBQW9EO0FBQ3BELDREQUFrSDtBQUVsSCxNQUFNLDJCQUNKLFNBQVEscUNBQWlDO0lBRDNDOztRQUlFLHdCQUF3QjtRQUNoQiw2QkFBd0IsR0FBRywrQkFBK0IsQ0FBQztRQUMzRCx1QkFBa0IsR0FBRyxtQ0FBbUMsQ0FBQztJQW9CbkUsQ0FBQztJQWxCUSxtQkFBbUI7UUFDeEIsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsd0JBQXdCLENBQUMsQ0FBQztRQUV2RCxJQUFJLE1BQU0sQ0FBQyxNQUFNLEtBQUssQ0FBQztZQUFFLE9BQU8sU0FBUyxDQUFDO1FBRTFDLE1BQU0sY0FBYyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDNUMsSUFBSSxLQUFLLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFDekIsT0FBTyxDQUFDLElBQUksQ0FDVixxQkFBcUIsSUFBSSxDQUFDLHdCQUF3QiwyQkFBMkIsTUFBTSw2QkFBNkIsZ0NBQW9CLFVBQVUsQ0FDL0ksQ0FBQztTQUNIO2FBQU07WUFDTCxPQUFPLGNBQWMsQ0FBQztTQUN2QjtJQUNILENBQUM7SUFFTSxhQUFhO1FBQ2xCLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUMzQyxDQUFDO0NBQ0Y7QUFFUSxrRUFBMkIifQ==